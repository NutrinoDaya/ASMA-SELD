# SELD Baseline Audio Only - 100 Epochs (for comparison)  
# Audio-only SELD using multiACCDOA format

# Task configuration
modality: audio  # 'audio' or 'audio_visual'
net_type: SELDnet

# Data paths
root_dir: ./DCASE2025_SELD_dataset
feat_dir: ./DCASE2025_SELD_dataset/features
log_dir: logs
checkpoints_dir: checkpoints
output_dir: outputs

# Audio feature extraction
audio:
  sampling_rate: 24000
  hop_length_s: 0.02
  nb_mels: 64

# Video feature extraction (not used for audio-only)
video:
  fps: 10
  resnet_feature_size: 49

# Model architecture
model:
  # Convolutional layers
  nb_conv_blocks: 3
  nb_conv_filters: 64
  f_pool_size: [4, 4, 2]
  t_pool_size: [5, 1, 1]
  dropout: 0.05
  
  # Recurrent layers
  rnn_size: 128
  nb_rnn_layers: 2
  
  # Attention layers
  nb_self_attn_layers: 2
  nb_attn_heads: 8
  
  # Transformer layers (not used for audio-only)
  nb_transformer_layers: 2
  
  # Feed forward layers
  nb_fnn_layers: 1
  fnn_size: 128

# Multi-track configuration
max_polyphony: 3  # Number of simultaneous tracks
nb_classes: 13
label_sequence_length: 50  # 5 seconds at 10Hz

# Loss configuration
loss:
  multiACCDOA: true  # Multi-track ACCDOA format
  thresh_unify: 15

# Training configuration
training:
  nb_epochs: 200
  batch_size: 256
  nb_workers: 0    # Windows compatibility
  shuffle: true
  eval_epochs: [50, 100, 150, 200]   # Validate every 50 epochs
  save_frequency: 50
  use_amp: true    # Enable mixed precision for faster training

# Optimizer configuration
optimizer:
  learning_rate: 0.001
  weight_decay: 0

# Data folds
data:
  dev_train_folds: ['fold2', 'fold3']  # Real data only
  dev_test_folds: ['fold4']

# Evaluation metrics
metrics:
  average: macro  # 'micro' or 'macro'
  segment_based_metrics: false
  lad_doa_thresh: 20
  lad_dist_thresh: .inf
  lad_reldist_thresh: 1.0
  lad_req_onscreen: false
  use_jackknife: false
